function getLineNumbers(e){for(var t=[],i=e.split(","),a=0;a<i.length;a++){var l=i[a].split("-");if(2==l.length)for(var n=parseInt(l[0],10);n<=l[1];n++)t.push(n);else 1==l.length&&t.push(parseInt(l[0],10))}return t}function myCallback(e,t){var i=$("."+t),a=i.attr("data-line");if(e&&e.div){if(e.stylesheet&&0===$('link[href="'+e.stylesheet+'"]').length){var l=document.createElement("link"),n=document.getElementsByTagName("head")[0];l.type="text/css",l.rel="stylesheet",l.href=e.stylesheet,n.insertBefore(l,n.firstChild)}if(i.html("<div id='"+t+"'>"+e.div+"</div>"),a){var r=getLineNumbers(a);$("#"+t).find(".line").each(function(e){-1==$.inArray(e+1,r)&&$(this).remove()});var s=1;$("#"+t).find(".line-number").each(function(e){-1==$.inArray(e+1,r)?$(this).remove():$(this).html(s++)})}i.attr("data-showFooter")&&"false"==i.attr("data-showFooter")&&$("#"+t).find(".gist-meta").remove(),i.attr("data-showLineNumbers")&&"false"==i.attr("data-showLineNumbers")&&$("#"+t).find(".line-numbers").remove(),$("#"+t).find(".gist-file").css("margin-bottom","0px")}else i.html("Failed loading gist "+url)}$(function(){"use strict";var gistMarkerId="gist-";window.baseurl="//gist.github.com",$('code[id*="'+gistMarkerId+'"]').each(function(){var $elem=$(this),id,url,file,timestamp=Date.now().toString(),callbackFunction="fun_"+timestamp,evalCallbackFunction="window.fun_"+timestamp+"=function(response){ myCallback(response, '"+timestamp+"'); }",data={};return $elem.addClass(timestamp),eval(evalCallbackFunction),id=$elem.attr("id")||"",file=$elem.attr("data-file"),file&&(data.file=file),id&&0===id.indexOf("gist-")?($elem.css("display","block"),id=id.substr(0,gistMarkerId.length)===gistMarkerId?id.replace(gistMarkerId,""):null,void(isNaN(parseInt(id,10))?$elem.html("Failed loading gist with incorrect id format: "+$elem.attr("id")):(url=baseurl+"/"+id+".json",$elem.html("Loading gist "+url+(data.file?", file: "+data.file:"")+"..."),$.ajax({type:"GET",async:!0,jsonpCallback:callbackFunction,contentType:"application/json",url:url,data:data,dataType:"jsonp",timeout:1e4,error:function(){$elem.html("Failed loading gist "+url+(data.file?", file: "+data.file:"")+"...")}})))):!1})});